# Admin User Management Operations

# ============================================
# MUTATIONS - User Management
# ============================================

mutation AdminUpdateUser($id: ID!, $input: AdminUpdateUserInput!) {
  adminUpdateUser(id: $id, input: $input) {
    id
    name
    email
    role
    verifiedAt
    suspendedAt
    locale
    createdAt
    updatedAt
    lastSeenAt
    avatarKey
    avatarBlurhash
  }
}

mutation AdminDeleteUser($id: ID!, $anonymize: Boolean) {
  adminDeleteUser(id: $id, anonymize: $anonymize)
}

mutation AdminInviteUser($input: AdminInviteUserInput!) {
  adminInviteUser(input: $input) {
    id
    name
    email
    role
    verifiedAt
    createdAt
    avatarKey
    avatarBlurhash
  }
}

mutation AdminCreateUser($input: AdminCreateUserInput!) {
  adminCreateUser(input: $input) {
    id
    name
    email
    role
    verifiedAt
    createdAt
    avatarKey
    avatarBlurhash
  }
}

# ============================================
# QUERIES - Content
# ============================================

query AdminUserComments($userId: ID!, $limit: Int, $offset: Int) {
  adminUserComments(userId: $userId, limit: $limit, offset: $offset) {
    items {
      id
      content
      createdAt
      deletedAt
      author {
        id
        name
        avatarKey
        avatarBlurhash
      }
      intent {
        id
        title
      }
    }
    pageInfo {
      total
      hasMore
    }
  }
}

query AdminUserReviews($userId: ID!, $limit: Int, $offset: Int) {
  adminUserReviews(userId: $userId, limit: $limit, offset: $offset) {
    items {
      id
      rating
      content
      createdAt
      deletedAt
      author {
        id
        name
        avatarKey
        avatarBlurhash
      }
      intent {
        id
        title
      }
    }
    pageInfo {
      total
      hasMore
    }
  }
}

# ============================================
# QUERIES - Intents & Memberships
# ============================================

query AdminUserMemberships($userId: ID!, $limit: Int, $offset: Int) {
  adminUserMemberships(userId: $userId, limit: $limit, offset: $offset) {
    items {
      id
      status
      role
      joinedAt
      intent {
        id
        title
        startAt
      }
    }
    pageInfo {
      total
      hasMore
    }
  }
}

query AdminUserIntents($userId: ID!, $limit: Int, $offset: Int) {
  adminUserIntents(userId: $userId, limit: $limit, offset: $offset) {
    items {
      id
      title
      startAt
      status
      joinedCount
    }
    pageInfo {
      total
      hasMore
    }
  }
}

# ============================================
# MUTATIONS - Suspension
# ============================================

mutation AdminSuspendUser($id: ID!, $reason: String) {
  adminSuspendUser(id: $id, reason: $reason) {
    id
    name
    email
    suspendedAt
    avatarKey
    avatarBlurhash
  }
}

mutation AdminUnsuspendUser($id: ID!) {
  adminUnsuspendUser(id: $id) {
    id
    name
    email
    suspendedAt
    avatarKey
    avatarBlurhash
  }
}

# ============================================
# QUERIES - DM Threads
# ============================================

query AdminUserDmThreads($userId: ID!, $limit: Int, $offset: Int) {
  adminUserDmThreads(userId: $userId, limit: $limit, offset: $offset) {
    items {
      id
      createdAt
      lastMessageAt
      messageCount
      otherUser {
        id
        name
        avatarKey
        avatarBlurhash
      }
    }
    pageInfo {
      total
      hasMore
    }
  }
}

# ============================================
# QUERIES - Notifications
# ============================================

query AdminUserNotifications($userId: ID!, $limit: Int, $offset: Int) {
  adminUserNotifications(userId: $userId, limit: $limit, offset: $offset) {
    items {
      id
      kind
      title
      body
      readAt
      createdAt
      entityType
      entityId
      recipient {
        id
        name
        avatarKey
        avatarBlurhash
        email
      }
      actor {
        id
        name
        avatarKey
        avatarBlurhash
      }
    }
    pageInfo {
      total
      hasNext
      hasPrev
      limit
      offset
    }
  }
}
