# Feedback fragments
fragment FeedbackQuestion on EventFeedbackQuestion {
  id
  eventId
  order
  type
  label
  helpText
  required
  options
  maxLength
  createdAt
  updatedAt
}

fragment FeedbackAnswer on EventFeedbackAnswer {
  id
  eventId
  userId
  questionId
  answer
  createdAt
  updatedAt
  user {
    ...UserCore
  }
  question {
    ...FeedbackQuestion
  }
}

fragment FeedbackQuestionStats on FeedbackQuestionStats {
  question {
    ...FeedbackQuestion
  }
  totalAnswers
  choiceDistribution {
    option
    count
    percentage
  }
  textAnswers {
    answer
    userId
    userName
    createdAt
  }
}

fragment FeedbackResults on EventFeedbackResults {
  eventId
  totalRespondents
  questionStats {
    ...FeedbackQuestionStats
  }
}
