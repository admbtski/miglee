# =============================================================================
# Stage ConfigMap - non-sensitive configuration
# =============================================================================
apiVersion: v1
kind: ConfigMap
metadata:
  name: app-config
  namespace: appname-stage
  labels:
    app.kubernetes.io/name: appname
    app.kubernetes.io/environment: stage
data:
  # Application
  NODE_ENV: "production"
  LOG_LEVEL: "info"
  
  # URLs (update with actual stage domain)
  APP_URL: "https://stage.app.example.com"
  API_URL: "https://stage.api.example.com"
  INTERNAL_API_URL: "http://api:4000"
  
  # Feature flags
  ENABLE_BULL_BOARD: "false"
  CDN_ENABLED: "false"
  
  # Redis (host only, password in secret)
  REDIS_HOST: "redis.appname-stage.svc.cluster.local"
  REDIS_PORT: "6379"
  REDIS_TLS: "false"
  
  # S3/Storage
  S3_REGION: "eu-central-1"
  S3_BUCKET: "appname-stage-uploads"
  
  # OpenTelemetry (optional)
  OTEL_SERVICE_NAME: "appname-api"
  OTEL_EXPORTER_OTLP_ENDPOINT: ""
---
# =============================================================================
# Stage Web ConfigMap
# =============================================================================
apiVersion: v1
kind: ConfigMap
metadata:
  name: web-config
  namespace: appname-stage
  labels:
    app.kubernetes.io/name: appname
    app.kubernetes.io/environment: stage
data:
  NEXT_PUBLIC_API_URL: "https://stage.api.example.com"
  NEXT_PUBLIC_WS_URL: "wss://stage.api.example.com"

