# =============================================================================
# Dev ConfigMap - for local K8s testing
# =============================================================================
apiVersion: v1
kind: ConfigMap
metadata:
  name: app-config
  namespace: appname-dev
  labels:
    app.kubernetes.io/name: appname
    app.kubernetes.io/environment: dev
data:
  NODE_ENV: 'development'
  LOG_LEVEL: 'debug'

  APP_URL: 'http://localhost:3000'
  API_URL: 'http://localhost:4000'
  INTERNAL_API_URL: 'http://api:4000'

  # CORS - allow all for dev
  CORS_ORIGINS: '*'

  ENABLE_BULL_BOARD: 'true'
  CDN_ENABLED: 'false'

  # Redis - use host.docker.internal for Docker Desktop
  REDIS_HOST: 'host.docker.internal'
  REDIS_PORT: '6379'
  REDIS_TLS: 'false'

  S3_REGION: 'eu-central-1'
  S3_BUCKET: 'appname-dev-uploads'
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: web-config
  namespace: appname-dev
  labels:
    app.kubernetes.io/name: appname
    app.kubernetes.io/environment: dev
data:
  NEXT_PUBLIC_API_URL: 'http://localhost:4000'
  NEXT_PUBLIC_WS_URL: 'ws://localhost:4000'
