# -----------------------------------------------------------------------------
# Core Configuration
# -----------------------------------------------------------------------------
NODE_ENV=production

# JWT Secret (REQUIRED - minimum 32 characters)
# Generate with: openssl rand -base64 32
JWT_SECRET=JWT_SECRET=prod-jwt-secret-min-32-characters-long-change-me

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:4000

# Log Level: fatal | error | warn | info | debug | trace | silent
LOG_LEVEL=info
LOG_FILE_PATH=

# -----------------------------------------------------------------------------
# Database (used for dynamic DATABASE_URL in compose)
# -----------------------------------------------------------------------------
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=app

# -----------------------------------------------------------------------------
# Migrator Settings
# -----------------------------------------------------------------------------
# Set RUN_SEED=1 to seed after migration (first deploy only)
RUN_SEED=0
# SEED_TYPE: dev (full test data) | prod (minimal data)
SEED_TYPE=prod

# -----------------------------------------------------------------------------
# API Server
# -----------------------------------------------------------------------------
SERVICE_NAME=app
APP_URL=http://localhost:3000
API_URL=http://localhost:4000
ASSETS_BASE_URL=http://localhost:4000

# -----------------------------------------------------------------------------
# Media Storage
# -----------------------------------------------------------------------------
# Storage provider: LOCAL | S3
MEDIA_STORAGE_PROVIDER=LOCAL

# Local storage paths
UPLOADS_PATH=./uploads
UPLOADS_TMP_PATH=./tmp/uploads

# Audit log archive path
AUDIT_ARCHIVE_PATH=./data/audit-archives

# Image processing
IMAGE_MAX_WIDTH=2560
IMAGE_MAX_HEIGHT=2560
IMAGE_FORMAT=webp
IMAGE_QUALITY=85

# Media Cleanup Configuration
ENABLE_MEDIA_CLEANUP=false
MEDIA_CLEANUP_INTERVAL_HOURS=24
MEDIA_CLEANUP_AGE_DAYS=7

# -----------------------------------------------------------------------------
# S3 Configuration (Optional - for S3 storage)
# -----------------------------------------------------------------------------
S3_ENDPOINT=
S3_REGION=
S3_BUCKET=
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=

# CDN Configuration
CDN_ENABLED=false
CDN_BASE_URL=

# -----------------------------------------------------------------------------
# Stripe (Payments)
# -----------------------------------------------------------------------------
# Get your keys from: https://dashboard.stripe.com/test/apikeys
STRIPE_SECRET_KEY=sk_test_51SWZqy2N1xaGO7HMgavdM8EMsDfHJEVWKrmGQv2GpCYeYqnLhh7lb1Yqn5Xtjyv5lmNIHWE3m9DQ0A5MppnW5kcr00QFhQO89x
STRIPE_PUBLISHABLE_KEY=pk_test_51SWZqy2N1xaGO7HMPubM5l0g2JJi9tlN3QjMFKj8I6zLt76kNeHcUfApvM1xM4VxngTjQRvukmzy33TBfaYJoWF500kxVyv0s5

# Webhook signing secret
# When using Docker Stripe service, check logs: pnpm dev:docker:logs stripe
STRIPE_WEBHOOK_SECRET=whsec_34ac759f49c591dac524d95dbda5d035ae6cc4cf18b02ecd62ebb163b61eed20

# Stripe Price IDs
STRIPE_PRICE_USER_PLUS_MONTHLY_SUB=price_1SWaca2N1xaGO7HMVIp0Kdzh
STRIPE_PRICE_USER_PLUS_MONTHLY_ONEOFF=price_1SWad12N1xaGO7HMavVadocT
STRIPE_PRICE_USER_PLUS_YEARLY_ONEOFF=price_1SWadS2N1xaGO7HMQkVRAG8m
STRIPE_PRICE_USER_PRO_MONTHLY_SUB=price_1SWae02N1xaGO7HM5LLzl69m
STRIPE_PRICE_USER_PRO_MONTHLY_ONEOFF=price_1SWaei2N1xaGO7HMizq1O4u1
STRIPE_PRICE_USER_PRO_YEARLY_ONEOFF=price_1SWaf92N1xaGO7HMWnQllhMb
STRIPE_PRICE_ACTION_PACKAGE_SMALL=price_1SXDKn2N1xaGO7HM3ApypLSX
STRIPE_PRICE_ACTION_PACKAGE_MEDIUM=price_1SXDLC2N1xaGO7HMYJjRrx3N
STRIPE_PRICE_ACTION_PACKAGE_LARGE=price_1SXDLa2N1xaGO7HMtQyaYh3L
STRIPE_PRICE_EVENT_PLUS=price_1SWagC2N1xaGO7HM4ygzHC0V
STRIPE_PRICE_EVENT_PRO=price_1SWagY2N1xaGO7HMphLi3WY0

# -----------------------------------------------------------------------------
# Email (Resend)
# -----------------------------------------------------------------------------
# Get your API key from: https://resend.com/api-keys
RESEND_API_KEY=re_cRQG7BMk_6BsCrq81pLpbxj7uw8jNEQmZ
EMAIL_FROM="Miglee <noreply@miglee.pl>"

# -----------------------------------------------------------------------------
# Google Maps
# -----------------------------------------------------------------------------
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=AIzaSyDcpZpIdRTzPiM8-Q64WuB2AsUNtWJSHVo

# -----------------------------------------------------------------------------
# Admin Features
# -----------------------------------------------------------------------------
# Enable Bull Board queue dashboard at /admin/queues
ENABLE_BULL_BOARD=false

# -----------------------------------------------------------------------------
# Next.js (Web App)
# -----------------------------------------------------------------------------
# These are baked into the client bundle at build time
NEXT_PUBLIC_API_URL=http://localhost:4000/graphql
NEXT_PUBLIC_WS_URL=ws://localhost:4000/graphql

# For server-side calls inside Docker (optional)
# INTERNAL_API_URL=http://api:4000/graphql