{
  "name": "appname",
  "version": "1.0.0",
  "private": true,
  "description": "MVP monorepo with React, Next.js, Fastify, and GraphQL",
  "packageManager": "pnpm@10.27.0",
  "engines": {
    "node": "24.12.0",
    "pnpm": "10.27.0"
  },
  "scripts": {
    "dev": "clear && turbo run dev",
    "dev:obs": "OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318 OTEL_ENABLE_TRACING=true OTEL_ENABLE_METRICS=true OTEL_DEBUG=true turbo run dev",
    "dev:api": "turbo run dev --filter=@appname/api",
    "dev:web": "turbo run dev --filter=@appname/web",
    "dev:api:obs": "OTEL_SERVICE_NAME=appname-api OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318 OTEL_DEBUG=true turbo run dev --filter=@appname/api",
    "dev:web:obs": "OTEL_SERVICE_NAME=appname-web OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318 OTEL_DEBUG=true turbo run dev --filter=@appname/web",
    "build": "turbo run build",
    "start": "turbo run start",
    "typecheck": "turbo run typecheck",
    "lint": "turbo run lint",
    "gql:gen": "turbo run gql:gen",
    "_comment:infra": "=== TRYB HYBRYDOWY: Infra Docker + lokalne pnpm dev ===",
    "infra:up": "docker compose -f docker/docker-compose.dev.yml up -d",
    "infra:up:tools": "docker compose -f docker/docker-compose.dev.yml --profile tools up -d",
    "infra:up:stripe": "docker compose -f docker/docker-compose.dev.yml --profile stripe up -d",
    "infra:up:all": "docker compose -f docker/docker-compose.dev.yml --profile all up -d",
    "infra:down": "docker compose -f docker/docker-compose.dev.yml down",
    "infra:logs": "docker compose -f docker/docker-compose.dev.yml logs -f",
    "infra:logs:stripe": "docker compose -f docker/docker-compose.dev.yml logs -f stripe",
    "infra:ps": "docker compose -f docker/docker-compose.dev.yml ps",
    "_comment:docker": "=== TRYB FULL DOCKER DEV: Wszystko w kontenerach (development target) ===",
    "docker:dev:build": "docker compose -f docker-compose.dev.yml build --parallel --progress=plain",
    "docker:dev:up:infra": "docker compose -f docker-compose.dev.yml up -d postgres redis",
    "docker:dev:up": "docker compose -f docker-compose.dev.yml up -d postgres redis api web",
    "docker:dev:up:workers": "docker compose -f docker-compose.dev.yml --profile workers up -d",
    "docker:dev:up:tools": "docker compose -f docker-compose.dev.yml --profile tools up -d",
    "docker:dev:up:stripe": "docker compose -f docker-compose.dev.yml --profile stripe up -d",
    "docker:dev:up:all": "docker compose -f docker-compose.dev.yml --profile all up -d",
    "docker:dev:down": "docker compose -f docker-compose.dev.yml --profile all down --remove-orphans",
    "docker:dev:logs": "docker compose -f docker-compose.dev.yml logs -f",
    "docker:dev:logs:api": "docker compose -f docker-compose.dev.yml logs -f api",
    "docker:dev:logs:web": "docker compose -f docker-compose.dev.yml logs -f web",
    "docker:dev:ps": "docker compose -f docker-compose.dev.yml ps",
    "docker:dev:restart": "docker compose -f docker-compose.dev.yml restart",
    "docker:dev:migrate": "docker compose -f docker-compose.dev.yml run --rm migrator",
    "docker:dev:migrate:seed": "docker compose -f docker-compose.dev.yml run --rm -e RUN_SEED=1 migrator",
    "_comment:prod": "=== PRODUCTION-LIKE: Obrazy produkcyjne lokalnie (production target) ===",
    "docker:prod:build": "docker compose -f docker-compose.prod.yml build --parallel --progress=plain",
    "docker:prod:up:infra": "docker compose -f docker-compose.prod.yml up -d postgres redis",
    "docker:prod:migrate": "docker compose -f docker-compose.prod.yml run --rm migrator",
    "docker:prod:migrate:seed": "docker compose -f docker-compose.prod.yml run --rm -e RUN_SEED=1 migrator",
    "docker:prod:up": "docker compose -f docker-compose.prod.yml up -d api web",
    "docker:prod:up:workers": "docker compose -f docker-compose.prod.yml --profile workers up -d",
    "docker:prod:up:all": "docker compose -f docker-compose.prod.yml --profile workers up -d api web worker_reminders worker_feedback worker_audit",
    "docker:prod:down": "docker compose -f docker-compose.prod.yml --profile all down --remove-orphans",
    "docker:prod:logs": "docker compose -f docker-compose.prod.yml logs -f",
    "docker:prod:logs:api": "docker compose -f docker-compose.prod.yml logs -f api",
    "docker:prod:logs:web": "docker compose -f docker-compose.prod.yml logs -f web",
    "docker:prod:ps": "docker compose -f docker-compose.prod.yml ps",
    "docker:prod:restart": "docker compose -f docker-compose.prod.yml restart",
    "_comment:observability": "=== OBSERVABILITY STACK: Grafana + Tempo + Loki + Prometheus ===",
    "obs:up": "docker compose -f infra/observability/docker-compose.observability.yml up -d",
    "obs:up:staging": "OTEL_ENV=staging docker compose -f infra/observability/docker-compose.observability.yml up -d",
    "obs:up:prodlike": "OTEL_ENV=prodlike docker compose -f infra/observability/docker-compose.observability.yml up -d",
    "obs:down": "docker compose -f infra/observability/docker-compose.observability.yml down",
    "obs:logs": "docker compose -f infra/observability/docker-compose.observability.yml logs -f",
    "obs:logs:collector": "docker compose -f infra/observability/docker-compose.observability.yml logs -f otel-collector",
    "obs:ps": "docker compose -f infra/observability/docker-compose.observability.yml ps",
    "obs:restart": "docker compose -f infra/observability/docker-compose.observability.yml restart",
    "obs:reset": "docker compose -f infra/observability/docker-compose.observability.yml down -v && docker volume rm obs-grafana-data obs-tempo-data obs-loki-data obs-prometheus-data obs-promtail-positions 2>/dev/null || true",
    "obs:test": "bash infra/observability/smoke-test.sh",
    "_comment:docker:helpers": "=== Helpers for docker ===",
    "docker:rm:containers": "docker rm -f $(docker ps -a -q)",
    "docker:rm:images": "docker rmi -f $(docker images -a -q)",
    "docker:rm:volumes": "docker volume rm $(docker volume ls -q)",
    "docker:rm:networks": "docker network rm $(docker network ls -q)",
    "docker:rm:all": "docker rm -f $(docker ps -a -q) && docker rmi -f $(docker images -a -q) && docker volume rm $(docker volume ls -q) && docker network rm $(docker network ls -q)",
    "docker:rm:all:force": "docker rm -f $(docker ps -a -q) && docker rmi -f $(docker images -a -q) && docker volume rm $(docker volume ls -q) && docker network rm $(docker network ls -q) && docker system prune -f"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^8.44.1",
    "@typescript-eslint/parser": "^8.44.1",
    "autoprefixer": "^10.4.21",
    "eslint": "^9.36.0",
    "eslint-plugin-import": "^2.32.0",
    "eslint-plugin-react": "^7.37.5",
    "eslint-plugin-react-hooks": "^5.2.0",
    "postcss": "^8.5.6",
    "prettier": "^3.6.2",
    "tailwindcss": "^4.1.13",
    "turbo": "^2.5.8",
    "typescript": "^5.9.2"
  },
  "volta": {
    "node": "24.12.0",
    "pnpm": "10.27.0"
  }
}
